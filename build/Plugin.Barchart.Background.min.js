!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("chart.js")):"function"==typeof define&&define.amd?define(["chart.js"],e):t.PluginBarchartBackground=e(t.Chart)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t){return-1!==["boxplot","horizontalBoxplot","violin","horizontalViolin","bar","horizontalBar"].indexOf(t)},o={color:"#f3f3f3"},n={id:"chartJsPluginBarchartBackground",beforeInit:function(t){r(t.config.type)||console.warn("The type %s is not supported by this plugin",t.config.type)},beforeDraw:function(t,e,n){if((a=t.config.data)&&a.datasets&&a.datasets.length>0&&r(t.config.type)){var a,i=Object.assign({},o,n),f=t.config.type.startsWith("horizontal"),c=t.chartArea.right-t.chartArea.left,l=t.chartArea.bottom-t.chartArea.top,u=Math.max.apply(Math,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t.config.data.datasets.map(function(t){return t.data.length}))),p=t.ctx;p.save(),p.fillStyle=i.color;var s=void 0;if(f){s=l/u;for(var d=t.chartArea.top,y=0;y<u;++y)p.fillRect(t.chartArea.left,d,c,s),d+=2*s}else{s=c/u;for(var h=t.chartArea.left,g=0;g<u;++g)p.fillRect(h,t.chartArea.top,s,l),h+=2*s}p.restore()}}};return"function"==typeof define&&define.amd||"object"===("undefined"==typeof module?"undefined":e(module))&&module.exports||t.pluginService.register(n),n});